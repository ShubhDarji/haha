"use strict";(self.webpackChunkfinalfrontend=self.webpackChunkfinalfrontend||[]).push([[771],{915:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var a=s(7565),r=s(788),i=s(810),o=s(9010),c=s(1887),n=s(4464),l=s(7929);r.os.registerPlugin(i.u,o.s);const d=()=>{const e=[...new Set(n.ZE.map((e=>e.companyName.trim())).filter((e=>e)))],t=(0,a.useRef)([]),s=(0,a.useRef)(null);return(0,a.useEffect)((()=>{r.os.fromTo(t.current,{x:100,opacity:0},{x:0,opacity:1,stagger:.15,duration:1,ease:"power3.out",scrollTrigger:{trigger:s.current,start:"top 75%",end:"top 40%",toggleActions:"play none none reverse"}}),o.s.create(s.current,{type:"x",inertia:!0,bounds:s.current,edgeResistance:.9,cursor:"grab"})}),[]),(0,l.jsx)("section",{className:"wrapper",children:(0,l.jsxs)("div",{className:"wrapper-container",children:[(0,l.jsx)("h2",{className:"title",children:"Shop by Brands"}),(0,l.jsx)("div",{className:"brand-slider",ref:s,role:"list",children:e.map(((e,s)=>(0,l.jsx)("div",{className:"brand-item",ref:e=>t.current[s]=e,role:"listitem",children:(0,l.jsx)(c.N_,{to:`/brand/${e.toLowerCase()}`,className:"brand-link",children:(0,l.jsx)("img",{src:`/brands/${e.toLowerCase()}.png`,alt:`${e} Logo`,className:"brand-icon",loading:"lazy",onError:e=>e.target.src="/brands/default-brand.png"})})},s)))})]})})};var u=s(8978),p=s(3934),m=s(6380),h=s(4815);r.os.registerPlugin(i.u);const g=e=>{let{title:t,productItems:s,maxItems:i=6}=e;const o=(0,a.useRef)(null),n=(0,c.Zp)(),[d,g]=(0,a.useState)(s.slice(0,i));return(0,a.useEffect)((()=>{r.os.fromTo(o.current.querySelectorAll(".product-card"),{opacity:0,y:40},{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.1,scrollTrigger:{trigger:o.current,start:"top 85%"}})}),[]),(0,l.jsx)("section",{ref:o,className:"section",children:(0,l.jsxs)(u.A,{children:[(0,l.jsxs)("div",{className:"heading",children:[(0,l.jsx)("h1",{children:t}),(0,l.jsx)("div",{className:"underline"})]}),(0,l.jsx)(p.A,{className:"justify-content-center",children:d.map((e=>(0,l.jsx)(h.A,{productItem:e},e.id)))}),s.length>i&&(0,l.jsx)("div",{className:"see-more-container",children:(0,l.jsx)(m.A,{className:"see-more-btn",onClick:()=>n("/shop"),children:"See More"})})]})})};var x=s(1510),y=s(7225),v=s.n(y);const f=[{image:s.p+"static/media/tv-banner01.7d624b96952afe34efd8.jpg",title:"Experience 4K Like Never Before",subtitle:"Upgrade to the latest Smart TVs with stunning visuals."},{image:s.p+"static/media/fridge-banner01.3dc5cb6996a02c020c0a.jpg",title:"Keep It Cool, Keep It Fresh",subtitle:"Energy-efficient refrigerators for your home."},{image:s.p+"static/media/washing-maching-banner01.f1ed8233493a2f8d53e8.jpg",title:"Powerful Cleaning, Effortless Washing",subtitle:"Smart washing machines with advanced technology."}],j=()=>{const[e,t]=(0,a.useState)(0);return(0,a.useEffect)((()=>{const e=setInterval((()=>{t((e=>(e+1)%f.length))}),5001);return()=>clearInterval(e)}),[]),(0,l.jsxs)("div",{className:"hero-split-container",children:[(0,l.jsxs)("div",{className:"hero-left",children:[(0,l.jsx)(x.P.h1,{className:"hero-main-title",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:(0,l.jsx)(v(),{options:{strings:[f[e].title],autoStart:!0,loop:!1,delay:40,deleteSpeed:0,cursor:"_"}})}),(0,l.jsx)(x.P.p,{className:"hero-sub",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:f[e].subtitle}),(0,l.jsx)(x.P.button,{className:"hero-btn",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.8},children:"Shop Now"})]}),(0,l.jsx)("div",{className:"hero-right",children:(0,l.jsx)("div",{className:"hero-img-container",children:(0,l.jsx)(x.P.img,{src:f[e].image,alt:"Product",className:"hero-img",initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8}},e)})})]})};var N=s(3881),b=s(5828);r.Ay.registerPlugin(i.u);const S={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5001",A=()=>{const[e,t]=(0,a.useState)({bigDiscount:[],newArrivals:[],bestSales:[]}),[s,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),[n,u]=(0,a.useState)("");return(0,N.A)(),(0,a.useEffect)((()=>{(async()=>{try{var e;const[s,a]=await Promise.all([b.A.get(`${S}/api/products/home/products`),b.A.get(`${S}/api/promotions/latest`)]),r=e=>({...e,primaryImageUrl:e.primaryImage?`${S}/uploads/${e.primaryImage}`:"/assets/default-product.png"});t({bigDiscount:s.data.bigDiscount.map(r),newArrivals:s.data.newArrivals.map(r),bestSales:s.data.bestSales.map(r)}),null!==(e=a.data)&&void 0!==e&&e.videoUrl&&i({...a.data,videoUrl:`${S}/uploads/promotions/${a.data.videoUrl}`})}catch(s){console.error(s),u("Failed to load homepage content.")}finally{c(!1)}})()}),[]),(0,a.useEffect)((()=>{r.Ay.from(".section-title",{opacity:0,y:20,duration:1,scrollTrigger:".section-title"}),r.Ay.to(".product-card",{opacity:1,duration:.5})}),[]),o?(0,l.jsx)("div",{className:"text-center py-5",children:"Loading homepage..."}):n?(0,l.jsx)("div",{className:"text-center py-5",children:n}):(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(j,{}),(0,l.jsx)(d,{}),(0,l.jsx)(g,{title:"Big Discount",productItems:e.bigDiscount,maxItems:4}),s&&(0,l.jsxs)("div",{className:"promo-video-container",style:{textAlign:"center",marginBottom:40},children:[(0,l.jsx)("h2",{children:s.title}),(0,l.jsx)("p",{children:s.description}),(0,l.jsx)("video",{ref:e=>{if(e){new IntersectionObserver((t=>{let[s]=t;s.isIntersecting?e.play():e.pause()}),{threshold:.5}).observe(e)}},src:s.videoUrl,muted:!0,loop:!0,playsInline:!0,style:{width:"98vw",maxHeight:"800px",objectFit:"cover",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"}})]}),(0,l.jsx)(g,{title:"New Arrivals",productItems:e.newArrivals,maxItems:4}),(0,l.jsx)(g,{title:"Best Sale",productItems:e.bestSales,maxItems:4})]})}},4815:(e,t,s)=>{s.d(t,{A:()=>h});var a=s(7565),r=s(723),i=s(1887),o=s(8039),c=s(621),n=s(2737),l=s(7605),d=s(5828),u=(s(6804),s(7929));const p={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5001",m=e=>{let{rating:t}=e;return(0,u.jsx)("div",{className:"product-rating",children:[...Array(5)].map(((e,s)=>(0,u.jsx)(n.A,{className:"star-icon "+(s<t?"active-star":"inactive-star")},s)))})},h=e=>{let{productItem:t}=e;const s=(0,r.wA)(),n=(0,i.Zp)(),[h,g]=(0,a.useState)(1),[x,y]=(0,a.useState)(""),[v,f]=(0,a.useState)(0),[j,N]=(0,a.useState)(0),[b,S]=(0,a.useState)(!1),A=t._id||t.id,w=localStorage.getItem("token");(0,a.useEffect)((()=>{null!==t&&void 0!==t&&t.primaryImage?y(`${p}/uploads/${t.primaryImage}`):null!==t&&void 0!==t&&t.imgUrl?y(t.imgUrl):y("/assets/default-product.png")}),[t]),(0,a.useEffect)((()=>{A&&(async()=>{try{const{data:e}=await d.A.get(`${p}/api/reviews/${A}`);if(Array.isArray(e)){N(e.length);const t=e.reduce(((e,t)=>e+(t.rating||0)),0)/(e.length||1);f(Math.round(t))}}catch(e){console.error("Failed to fetch reviews:",e)}})()}),[A]),(0,a.useEffect)((()=>{(async()=>{if(w&&A)try{const{data:e}=await d.A.get(`${p}/api/wishlist`,{headers:{Authorization:`Bearer ${w}`}}),t=e.some((e=>{var t;return(null===(t=e.productId)||void 0===t?void 0:t._id)===A}));S(t)}catch(e){console.error("Wishlist check failed:",e)}})()}),[A,w]);const I=t.originalPrice>t.price?Math.round((t.originalPrice-t.price)/t.originalPrice*100):0,P=e=>{g((t=>Math.max(1,t+e)))};return t?(0,u.jsxs)("div",{className:"product-card",children:[(0,u.jsx)(l.A,{className:"wishlist-icon "+(b?"active":""),onClick:async()=>{if(!w)return o.oR.error("Please login to manage your wishlist."),void n("/login");try{const{data:e}=await d.A.post(`${p}/api/wishlist`,{productId:A},{headers:{Authorization:`Bearer ${w}`}});S(e.wished),o.oR.success(e.message)}catch(e){console.error("Wishlist update failed:",e),o.oR.error("Failed to update wishlist.")}}}),I>0&&(0,u.jsxs)("span",{className:"discount-badge",children:[I,"% OFF"]}),(0,u.jsx)("div",{className:"product-image",onClick:()=>n(`/product/${A}`),children:(0,u.jsx)("img",{loading:"lazy",src:x,alt:t.productName,className:"product-img",onError:()=>y("/assets/default-product.png")})}),(0,u.jsxs)("div",{className:"product-details",children:[(0,u.jsx)("h3",{className:"product-title",onClick:()=>n(`/product/${A}`),children:t.productName}),(0,u.jsx)(m,{rating:v}),(0,u.jsxs)("span",{className:"rating-value",children:["(",j," Reviews)"]}),(0,u.jsx)("p",{className:"shipping-info",children:"Ships in 3-4 days"}),(0,u.jsxs)("div",{className:"product-price",children:[(0,u.jsxs)("h4",{className:"current-price",children:["\u20b9",t.price]}),t.originalPrice&&(0,u.jsxs)("span",{className:"original-price",children:["\u20b9",t.originalPrice]})]}),(0,u.jsxs)("div",{className:"product-actions",children:[(0,u.jsxs)("div",{className:"quantity-container",children:[(0,u.jsx)("button",{className:"quantity-btn",onClick:()=>P(-1),children:"-"}),(0,u.jsx)("span",{className:"quantity-value",children:h}),(0,u.jsx)("button",{className:"quantity-btn",onClick:()=>P(1),children:"+"})]}),(0,u.jsx)("button",{className:"buy-btn",onClick:()=>{const e=JSON.parse(localStorage.getItem("user"));if(!e||!e.token)return localStorage.setItem("buyNowProduct",JSON.stringify({...t,qty:h})),localStorage.setItem("lastVisitedPage","/checkout"),o.oR.info("Please login to continue checkout."),void n("/login");n("/checkout",{state:{products:[{...t,qty:h}]}})},children:"Buy Now"})]}),(0,u.jsx)("button",{className:"add-to-cart-btn",onClick:()=>{s((0,c.bE)({...t,qty:h})),o.oR.success(`${t.productName} added to cart!`),g(1)},children:"Add to Cart"})]})]}):(0,u.jsx)("p",{className:"error-message",children:"Product data is missing."})}}}]);
//# sourceMappingURL=771.1c509890.chunk.js.map