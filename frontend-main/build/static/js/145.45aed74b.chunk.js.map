{"version":3,"file":"static/js/145.45aed74b.chunk.js","mappings":"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","sources":["components/FilterSelect.jsx","components/SeachBar/SearchBar.jsx","pages/Shop.jsx","components/ShopList.jsx","components/ProductCard/ProductCard.jsx"],"sourcesContent":["import React from \"react\";\nimport \"./filter.css\";\n\nconst FilterSelect = ({ products, filters, setFilters }) => {\n  const categories = [\"All\", ...new Set(products.map((p) => p.category))];\n  const brands = [\"All\", ...new Set(products.map((p) => p.companyName))];\n\n  const priceRanges = [\n    \"All\",\n    \"Under ₹5,000\",\n    \"₹5,000 - ₹10,000\",\n    \"₹10,000 - ₹20,000\",\n    \"₹20,000 - ₹50,000\",\n    \"₹50,000 - ₹1,00,000\",\n    \"Above ₹1,00,000\",\n  ];\n\n  return (\n    <div className=\"filter-container\">\n      <div className=\"filter-group\">\n        <label>Category</label>\n        <select value={filters.category} onChange={(e) => setFilters({ ...filters, category: e.target.value })}>\n          {categories.map((category, index) => (\n            <option key={index} value={category}>{category}</option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"filter-group\">\n        <label>Brand</label>\n        <select value={filters.brand} onChange={(e) => setFilters({ ...filters, brand: e.target.value })}>\n          {brands.map((brand, index) => (\n            <option key={index} value={brand}>{brand}</option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"filter-group\">\n        <label>Price Range</label>\n        <select value={filters.priceRange} onChange={(e) => setFilters({ ...filters, priceRange: e.target.value })}>\n          {priceRanges.map((range, index) => (\n            <option key={index} value={range}>{range}</option>\n          ))}\n        </select>\n      </div>\n    </div>\n  );\n};\n\nexport default FilterSelect;\n","import { useState } from \"react\";\nimport \"./searchbar.css\";\n\nconst SearchBar = ({ setSearchWord }) => {\n  const [search, setSearch] = useState(\"\");\n\n  const handleChange = (e) => {\n    const keyword = e.target.value;\n    setSearch(keyword);\n    setSearchWord(keyword);\n  };\n\n  return (\n    <div className=\"search-container\">\n      <input type=\"text\" placeholder=\"Search...\" value={search} onChange={handleChange} />\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import { useState, Fragment, useEffect } from \"react\";\nimport { Col, Container, Row, Spinner, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { products as staticProducts } from \"../utils/products\";\nimport ShopList from \"../components/ShopList\";\nimport useWindowScrollToTop from \"../hooks/useWindowScrollToTop\";\nimport FilterSelect from \"../components/FilterSelect\";\nimport SearchBar from \"../components/SeachBar/SearchBar\";\nimport \"./shop.css\";\n\nconst Shop = () => {\n  const [filterList, setFilterList] = useState([]);\n  const [searchWord, setSearchWord] = useState(\"\");\n  const [filters, setFilters] = useState({\n    category: \"All\",\n    brand: \"All\",\n    priceRange: \"All\",\n  });\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  useWindowScrollToTop();\n\n  // ✅ Generate Image URL with Fallback\n // ✅ Generate Image URL with Fallback\nconst getImageUrl = (imagePath) => {\n  if (!imagePath) {\n    console.warn(\"Image missing, using fallback.\");\n    return \"/assets/default-product.png\"; // Fallback for missing images\n  }\n  \n  const isAbsoluteUrl = /^https?:\\/\\//.test(imagePath);\n  return isAbsoluteUrl \n    ? imagePath \n    : `http://localhost:5001/uploads/${encodeURIComponent(imagePath)}`;\n};\n\n// ✅ Fetch and Merge Products with Image URLs\nconst fetchProducts = async () => {\n  setLoading(true);\n  setError(\"\");\n\n  try {\n    const { data: apiProducts } = await axios.get(\"http://localhost:5001/api/products\");\n\n    // ✅ Ensure Product Image URLs are Available\n    const formattedAPIProducts = apiProducts\n      .filter((product) => product.status === \"Active\")\n      .map((product) => ({\n        ...product,\n        id: product._id,\n        primaryImageUrl: product.primaryImage || \"/assets/default-product.png\", // Use default if missing\n      }));\n\n    // ✅ Format Static Products (Fallback)\n    const formattedStaticProducts = staticProducts.map((product) => ({\n      ...product,\n      primaryImageUrl: product.primaryImage || \"/assets/default-product.png\",\n    }));\n\n    // ✅ Remove Duplicates\n    const allProducts = [...formattedAPIProducts, ...formattedStaticProducts];\n    const uniqueProducts = Array.from(\n      new Map(allProducts.map((product) => [product.id || product.productName, product])).values()\n    );\n\n    setFilterList(uniqueProducts);\n  } catch (error) {\n    setError(error.response?.data?.message || \"Failed to load products. Please try again.\");\n    console.error(\"Error fetching products:\", error);\n  } finally {\n    setLoading(false);\n  }\n};\n\n\n\n  // ✅ Apply Filters and Search\n  const applyFilters = () => {\n    let filtered = [...filterList];\n\n    if (searchWord.trim()) {\n      filtered = filtered.filter((item) =>\n        item.productName.toLowerCase().includes(searchWord.toLowerCase().trim())\n      );\n    }\n\n    if (filters.category !== \"All\") {\n      filtered = filtered.filter((item) => item.category === filters.category);\n    }\n\n    if (filters.brand !== \"All\") {\n      filtered = filtered.filter((item) => item.companyName === filters.brand);\n    }\n\n    if (filters.priceRange !== \"All\") {\n      const priceMap = {\n        \"Under ₹5,000\": [0, 5001],\n        \"₹5,000 - ₹10,000\": [5001, 10000],\n        \"₹10,000 - ₹20,000\": [10000, 20000],\n        \"₹20,000 - ₹50,000\": [20000, 50010],\n        \"₹50,000 - ₹1,00,000\": [50010, 100000],\n        \"Above ₹1,00,000\": [100000, Infinity],\n      };\n      const [minPrice, maxPrice] = priceMap[filters.priceRange];\n      filtered = filtered.filter((item) => item.price >= minPrice && item.price <= maxPrice);\n    }\n\n    return filtered;\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const displayedProducts = applyFilters();\n\n  // ✅ Error and Loading UI\n  if (loading) {\n    return (\n      <Container className=\"text-center py-5\">\n        <Spinner animation=\"border\" role=\"status\" />\n        <p>Loading products...</p>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container className=\"text-center py-5\">\n        <Alert variant=\"danger\">{error}</Alert>\n      </Container>\n    );\n  }\n\n  return (\n    <Fragment>\n      <Container fluid className=\"shop-layout\">\n        <Row>\n          {/* ✅ Filters Section */}\n          <Col md={3} className=\"filter-sidebar\">\n            <h3>Filters</h3>\n            <SearchBar setSearchWord={setSearchWord} />\n            <FilterSelect filters={filters} setFilters={setFilters} products={filterList} />\n          </Col>\n\n          {/* ✅ Products Section */}\n          <Col md={9} className=\"product-section\">\n            <h2>All Products - {filters.brand !== \"All\" ? filters.brand : \"All\"}</h2>\n            {displayedProducts.length > 0 ? (\n              <ShopList productItems={displayedProducts} />\n            ) : (\n              <Alert variant=\"info\">No products found matching your criteria.</Alert>\n            )}\n          </Col>\n        </Row>\n      </Container>\n    </Fragment>\n  );\n};\n\nexport default Shop;\n","import { Row } from \"react-bootstrap\";\nimport { memo, useEffect } from \"react\";\nimport ProductCard from \"./ProductCard/ProductCard\";\n\nconst ShopList = ({ productItems }) => {\n  useEffect(() => {}, [productItems]);\n  if (productItems.length === 0) {\n    return <h1 className=\"not-found\">Product Not Found !!</h1>;\n  }\n  return (\n    <Row className=\"justify-content-center\">\n      {productItems.map((productItem) => {\n        return (\n          <ProductCard\n            key={productItem.id}\n            title={null}\n            productItem={productItem}\n          />\n        );\n      })}\n    </Row>\n  );\n};\nexport default memo(ShopList);\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { addToCart } from \"../../app/features/cart/cartSlice\";\nimport { Star, Heart } from \"lucide-react\";\nimport axios from \"axios\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./product-card.css\";\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5001\";\n\nconst StarRating = ({ rating }) => (\n  <div className=\"product-rating\">\n    {[...Array(5)].map((_, index) => (\n      <Star\n        key={index}\n        className={`star-icon ${index < rating ? \"active-star\" : \"inactive-star\"}`}\n      />\n    ))}\n  </div>\n);\n\nconst ProductCard = ({ productItem }) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [quantity, setQuantity] = useState(1);\n  const [imageSrc, setImageSrc] = useState(\"\");\n  const [rating, setRating] = useState(0);\n  const [reviewCount, setReviewCount] = useState(0);\n  const [isWished, setIsWished] = useState(false);\n\n  const productId = productItem._id || productItem.id;\n  const token = localStorage.getItem(\"token\");\n\n  useEffect(() => {\n    if (productItem?.primaryImage) {\n      setImageSrc(`${API_BASE_URL}/uploads/${productItem.primaryImage}`);\n    } else if (productItem?.imgUrl) {\n      setImageSrc(productItem.imgUrl);\n    } else {\n      setImageSrc(\"/assets/default-product.png\");\n    }\n  }, [productItem]);\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        const { data } = await axios.get(`${API_BASE_URL}/api/reviews/${productId}`);\n        if (Array.isArray(data)) {\n          setReviewCount(data.length);\n          const avg =\n            data.reduce((sum, r) => sum + (r.rating || 0), 0) / (data.length || 1);\n          setRating(Math.round(avg));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch reviews:\", err);\n      }\n    };\n\n    if (productId) fetchReviews();\n  }, [productId]);\n\n  useEffect(() => {\n    const checkWishlist = async () => {\n      if (!token || !productId) return;\n\n      try {\n        const { data } = await axios.get(`${API_BASE_URL}/api/wishlist`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        const wished = data.some((entry) => entry.productId?._id === productId);\n        setIsWished(wished);\n      } catch (err) {\n        console.error(\"Wishlist check failed:\", err);\n      }\n    };\n\n    checkWishlist();\n  }, [productId, token]);\n\n  const handleToggleWishlist = async () => {\n    if (!token) {\n      toast.error(\"Please login to manage your wishlist.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    try {\n      const { data } = await axios.post(\n        `${API_BASE_URL}/api/wishlist`,\n        { productId },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n\n      setIsWished(data.wished);\n      toast.success(data.message);\n    } catch (err) {\n      console.error(\"Wishlist update failed:\", err);\n      toast.error(\"Failed to update wishlist.\");\n    }\n  };\n\n  const discount =\n    productItem.originalPrice > productItem.price\n      ? Math.round(((productItem.originalPrice - productItem.price) / productItem.originalPrice) * 100)\n      : 0;\n\n  const handleQuantityChange = (amount) => {\n    setQuantity((prev) => Math.max(1, prev + amount));\n  };\n\n  const handleAddToCart = () => {\n    dispatch(addToCart({ ...productItem, qty: quantity }));\n    toast.success(`${productItem.productName} added to cart!`);\n    setQuantity(1);\n  };\n\n  const handleBuyNow = () => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n  \n    if (!user || !user.token) {\n      // Save product for redirect after login\n      localStorage.setItem(\"buyNowProduct\", JSON.stringify({ ...productItem, qty: quantity }));\n      localStorage.setItem(\"lastVisitedPage\", \"/checkout\"); // Optional but helpful\n      toast.info(\"Please login to continue checkout.\");\n      navigate(\"/login\");\n      return;\n    }\n  \n    navigate(\"/checkout\", {\n      state: { products: [{ ...productItem, qty: quantity }] },\n    });\n  };\n\n  if (!productItem) return <p className=\"error-message\">Product data is missing.</p>;\n\n  return (\n    <div className=\"product-card\">\n      <Heart\n        className={`wishlist-icon ${isWished ? \"active\" : \"\"}`}\n        onClick={handleToggleWishlist}\n      />\n\n      {discount > 0 && <span className=\"discount-badge\">{discount}% OFF</span>}\n\n      <div\n        className=\"product-image\"\n        onClick={() => navigate(`/product/${productId}`)}\n      >\n        <img\n          loading=\"lazy\"\n          src={imageSrc}\n          alt={productItem.productName}\n          className=\"product-img\"\n          onError={() => setImageSrc(\"/assets/default-product.png\")}\n        />\n      </div>\n\n      <div className=\"product-details\">\n        <h3\n          className=\"product-title\"\n          onClick={() => navigate(`/product/${productId}`)}\n        >\n          {productItem.productName}\n        </h3>\n\n        <StarRating rating={rating} />\n        <span className=\"rating-value\">({reviewCount} Reviews)</span>\n\n        <p className=\"shipping-info\">Ships in 3-4 days</p>\n\n        <div className=\"product-price\">\n          <h4 className=\"current-price\">₹{productItem.price}</h4>\n          {productItem.originalPrice && (\n            <span className=\"original-price\">₹{productItem.originalPrice}</span>\n          )}\n        </div>\n\n        <div className=\"product-actions\">\n          <div className=\"quantity-container\">\n            <button className=\"quantity-btn\" onClick={() => handleQuantityChange(-1)}>-</button>\n            <span className=\"quantity-value\">{quantity}</span>\n            <button className=\"quantity-btn\" onClick={() => handleQuantityChange(1)}>+</button>\n          </div>\n          <button className=\"buy-btn\" onClick={handleBuyNow}>Buy Now</button>\n        </div>\n\n        <button className=\"add-to-cart-btn\" onClick={handleAddToCart}>\n          Add to Cart\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCard;"],"names":["_ref","products","filters","setFilters","categories","Set","map","p","category","brands","companyName","_jsxs","className","children","_jsx","value","onChange","e","target","index","brand","priceRange","range","setSearchWord","search","setSearch","useState","type","placeholder","keyword","Shop","filterList","setFilterList","searchWord","error","setError","loading","setLoading","useWindowScrollToTop","useEffect","async","data","apiProducts","axios","get","formattedAPIProducts","filter","product","status","id","_id","primaryImageUrl","primaryImage","formattedStaticProducts","staticProducts","allProducts","uniqueProducts","Array","from","Map","productName","values","_error$response","_error$response$data","response","message","console","fetchProducts","displayedProducts","applyFilters","filtered","trim","item","toLowerCase","includes","priceMap","Infinity","minPrice","maxPrice","price","Container","Spinner","animation","role","Alert","variant","Fragment","fluid","Row","Col","md","SearchBar","FilterSelect","length","ShopList","productItems","productItem","ProductCard","title","memo","API_BASE_URL","process","REACT_APP_API_URL","StarRating","rating","_","Star","_ref2","dispatch","useDispatch","navigate","useNavigate","quantity","setQuantity","imageSrc","setImageSrc","setRating","reviewCount","setReviewCount","isWished","setIsWished","productId","token","localStorage","getItem","imgUrl","isArray","avg","reduce","sum","r","Math","round","err","fetchReviews","headers","Authorization","wished","some","entry","_entry$productId","checkWishlist","discount","originalPrice","handleQuantityChange","amount","prev","max","Heart","onClick","toast","post","success","src","alt","onError","handleBuyNow","user","JSON","parse","setItem","stringify","qty","info","state","handleAddToCart","addToCart"],"sourceRoot":""}