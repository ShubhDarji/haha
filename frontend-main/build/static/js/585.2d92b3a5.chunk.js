"use strict";(self.webpackChunkfinalfrontend=self.webpackChunkfinalfrontend||[]).push([[585],{8585:(e,t,o)=>{o.r(t),o.d(t,{default:()=>n});var i=o(7565),l=o(5828),d=o(7929);const a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5001",n=()=>{const[e,t]=(0,i.useState)(null),[o,n]=(0,i.useState)(""),[r,s]=(0,i.useState)(""),[c,p]=(0,i.useState)(!1),[u,h]=(0,i.useState)(""),[x,v]=(0,i.useState)(!1);return(0,d.jsxs)("div",{style:{padding:"30px",maxWidth:600,margin:"0 auto",border:"1px solid #ccc",borderRadius:8},children:[(0,d.jsx)("h2",{style:{textAlign:"center"},children:"Upload Promotional Video"}),u&&(0,d.jsx)("p",{style:{color:x?"green":"red",textAlign:"center"},children:u}),(0,d.jsxs)("div",{style:{marginBottom:12},children:[(0,d.jsx)("label",{children:"Video Title:"}),(0,d.jsx)("input",{type:"text",value:o,onChange:e=>n(e.target.value),placeholder:"Enter video title",style:{width:"100%",padding:8}})]}),(0,d.jsxs)("div",{style:{marginBottom:12},children:[(0,d.jsx)("label",{children:"Description (optional):"}),(0,d.jsx)("textarea",{value:r,onChange:e=>s(e.target.value),placeholder:"Enter description",rows:3,style:{width:"100%",padding:8}})]}),(0,d.jsxs)("div",{style:{marginBottom:12},children:[(0,d.jsx)("label",{children:"Select Video File:"}),(0,d.jsx)("br",{}),(0,d.jsx)("input",{type:"file",accept:"video/*",onChange:e=>t(e.target.files[0])})]}),e&&(0,d.jsx)("div",{style:{margin:"15px 0"},children:(0,d.jsx)("video",{controls:!0,width:"100%",style:{borderRadius:6},children:(0,d.jsx)("source",{src:URL.createObjectURL(e),type:"video/mp4"})})}),(0,d.jsx)("button",{onClick:async()=>{if(!e||!o)return h("Please provide a title and select a video file."),void v(!1);const i=new FormData;i.append("video",e),i.append("title",o),i.append("description",r);try{p(!0),h("");const e=localStorage.getItem("adminToken")||localStorage.getItem("token");await l.A.post(`${a}/api/promotions/upload`,i,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`}});v(!0),h("\u2705 Video uploaded successfully!"),n(""),s(""),t(null)}catch(u){var d,c;console.error("Upload error:",u),v(!1),h((null===(d=u.response)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.message)||"\u274c Failed to upload video.")}finally{p(!1)}},disabled:c,style:{padding:"10px 20px",background:c?"#ccc":"#007bff",color:"#fff",border:"none",borderRadius:4,cursor:c?"not-allowed":"pointer",width:"100%"},children:c?"Uploading...":"Upload Video"})]})}}}]);
//# sourceMappingURL=585.2d92b3a5.chunk.js.map