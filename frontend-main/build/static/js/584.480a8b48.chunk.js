"use strict";(self.webpackChunkfinalfrontend=self.webpackChunkfinalfrontend||[]).push([[584],{6584:(e,t,i)=>{i.r(t),i.d(t,{default:()=>A});var r=i(7565),s=i(5828),l=i(5480),o=i(580),a=i(8515),d=i(3305),n=i(5783),c=i(8723),h=i(6761),p=i(2812),y=i(1887),u=i(7929);const{Title:m,Text:x}=l.A,g={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5001",A=()=>{const[e,t]=(0,r.useState)([]),i=localStorage.getItem("token"),l=(0,y.Zp)();return(0,r.useEffect)((()=>{if(!i)return o.Ay.error("Please login to view your wishlist."),void l("/login");(async()=>{try{const{data:e}=await s.A.get(`${g}/api/wishlist`,{headers:{Authorization:`Bearer ${i}`}});t(e)}catch(e){o.Ay.error("Failed to load wishlist")}})()}),[]),(0,u.jsxs)("div",{style:{padding:"20px"},children:[(0,u.jsx)(m,{level:3,style:{marginBottom:24},children:"My Wishlist"}),0===e.length?(0,u.jsx)(a.A,{description:"Your wishlist is empty",style:{marginTop:50}}):(0,u.jsx)(d.A,{gutter:[24,24],children:e.map((e=>{let{productId:r}=e;return(0,u.jsx)(n.A,{xs:24,sm:12,md:8,lg:6,children:(0,u.jsxs)(c.A,{hoverable:!0,style:{height:400,borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.06)",display:"flex",flexDirection:"column",justifyContent:"space-between"},cover:(0,u.jsx)("div",{style:{height:200,backgroundColor:"#f9f9f9",display:"flex",alignItems:"center",justifyContent:"center",borderTopLeftRadius:8,borderTopRightRadius:8},children:(0,u.jsx)("img",{alt:r.productName,src:r.primaryImage?`${g}/uploads/${r.primaryImage}`:"/assets/default-product.png",style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain",padding:10}})}),children:[(0,u.jsxs)("div",{style:{flexGrow:1},children:[(0,u.jsx)(m,{level:5,ellipsis:{rows:1},children:r.productName}),(0,u.jsxs)(x,{strong:!0,style:{fontSize:"16px"},children:["\u20b9",r.price]})]}),(0,u.jsx)(h.A,{style:{margin:"12px 0"}}),(0,u.jsxs)(d.A,{gutter:10,children:[(0,u.jsx)(n.A,{span:12,children:(0,u.jsx)(p.Ay,{danger:!0,block:!0,size:"small",onClick:()=>(async e=>{try{await s.A.delete(`${g}/api/wishlist/${e}`,{headers:{Authorization:`Bearer ${i}`}}),o.Ay.success("Removed from wishlist"),t((t=>t.filter((t=>t.productId._id!==e))))}catch(r){o.Ay.error("Failed to remove item")}})(r._id),children:"Remove"})}),(0,u.jsx)(n.A,{span:12,children:(0,u.jsx)(p.Ay,{type:"primary",block:!0,size:"small",onClick:()=>l(`/product/${r._id}`),children:"View"})}),(0,u.jsx)(n.A,{span:24,style:{marginTop:8},children:(0,u.jsx)(p.Ay,{block:!0,size:"small",type:"dashed",onClick:async()=>{try{const e={...r,qty:1,productId:r._id},l=JSON.parse(localStorage.getItem("cart"))||[];localStorage.setItem("cart",JSON.stringify([...l,e])),await s.A.delete(`${g}/api/wishlist/${r._id}`,{headers:{Authorization:`Bearer ${i}`}}),o.Ay.success("Moved to cart"),t((e=>e.filter((e=>e.productId._id!==r._id))))}catch(e){o.Ay.error("Failed to move item")}},children:"Move to Cart"})})]})]})},r._id)}))})]})}}}]);
//# sourceMappingURL=584.480a8b48.chunk.js.map