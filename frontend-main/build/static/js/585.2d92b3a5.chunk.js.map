{"version":3,"file":"static/js/585.2d92b3a5.chunk.js","mappings":"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","sources":["pages/admin/AdminPromoVideoUpload.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5001\";\r\n\r\nconst AdminPromoVideoUpload = () => {\r\n  const [videoFile, setVideoFile] = useState(null);\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const handleUpload = async () => {\r\n    if (!videoFile || !title) {\r\n      setMessage('Please provide a title and select a video file.');\r\n      setSuccess(false);\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('video', videoFile);\r\n    formData.append('title', title);\r\n    formData.append('description', description);\r\n\r\n    try {\r\n      setUploading(true);\r\n      setMessage('');\r\n\r\n      const token = localStorage.getItem('adminToken') || localStorage.getItem('token'); // Use admin token if required\r\n      const response = await axios.post(`${API_BASE_URL}/api/promotions/upload`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      setSuccess(true);\r\n      setMessage('✅ Video uploaded successfully!');\r\n      setTitle('');\r\n      setDescription('');\r\n      setVideoFile(null);\r\n    } catch (error) {\r\n      console.error('Upload error:', error);\r\n      setSuccess(false);\r\n      setMessage(error.response?.data?.message || '❌ Failed to upload video.');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"30px\", maxWidth: 600, margin: \"0 auto\", border: \"1px solid #ccc\", borderRadius: 8 }}>\r\n      <h2 style={{ textAlign: 'center' }}>Upload Promotional Video</h2>\r\n\r\n      {message && (\r\n        <p style={{ color: success ? \"green\" : \"red\", textAlign: \"center\" }}>{message}</p>\r\n      )}\r\n\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Video Title:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          placeholder=\"Enter video title\"\r\n          style={{ width: \"100%\", padding: 8 }}\r\n        />\r\n      </div>\r\n\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Description (optional):</label>\r\n        <textarea\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n          placeholder=\"Enter description\"\r\n          rows={3}\r\n          style={{ width: \"100%\", padding: 8 }}\r\n        />\r\n      </div>\r\n\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Select Video File:</label><br />\r\n        <input\r\n          type=\"file\"\r\n          accept=\"video/*\"\r\n          onChange={(e) => setVideoFile(e.target.files[0])}\r\n        />\r\n      </div>\r\n\r\n      {videoFile && (\r\n        <div style={{ margin: \"15px 0\" }}>\r\n          <video controls width=\"100%\" style={{ borderRadius: 6 }}>\r\n            <source src={URL.createObjectURL(videoFile)} type=\"video/mp4\" />\r\n          </video>\r\n        </div>\r\n      )}\r\n\r\n      <button\r\n        onClick={handleUpload}\r\n        disabled={uploading}\r\n        style={{\r\n          padding: \"10px 20px\",\r\n          background: uploading ? \"#ccc\" : \"#007bff\",\r\n          color: \"#fff\",\r\n          border: \"none\",\r\n          borderRadius: 4,\r\n          cursor: uploading ? \"not-allowed\" : \"pointer\",\r\n          width: \"100%\",\r\n        }}\r\n      >\r\n        {uploading ? 'Uploading...' : 'Upload Video'}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPromoVideoUpload;\r\n"],"names":["API_BASE_URL","process","REACT_APP_API_URL","AdminPromoVideoUpload","videoFile","setVideoFile","useState","title","setTitle","description","setDescription","uploading","setUploading","message","setMessage","success","setSuccess","_jsxs","style","padding","maxWidth","margin","border","borderRadius","children","_jsx","textAlign","color","marginBottom","type","value","onChange","e","target","placeholder","width","rows","accept","files","controls","src","URL","createObjectURL","onClick","async","formData","FormData","append","token","localStorage","getItem","axios","post","headers","Authorization","error","_error$response","_error$response$data","console","response","data","disabled","background","cursor"],"sourceRoot":""}