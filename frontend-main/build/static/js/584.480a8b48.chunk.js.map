{"version":3,"file":"static/js/584.480a8b48.chunk.js","mappings":"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","sources":["pages/Account/Wishlist.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Typography,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  message,\r\n  Empty,\r\n  Divider,\r\n} from \"antd\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst { Title, Text } = Typography;\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5001\";\r\n\r\nconst Wishlist = () => {\r\n  const [wishlist, setWishlist] = useState([]);\r\n  const token = localStorage.getItem(\"token\");\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch Wishlist Items\r\n  const fetchWishlist = async () => {\r\n    try {\r\n      const { data } = await axios.get(`${API_BASE_URL}/api/wishlist`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setWishlist(data);\r\n    } catch (err) {\r\n      message.error(\"Failed to load wishlist\");\r\n    }\r\n  };\r\n\r\n  // Remove Product from Wishlist\r\n  const handleRemove = async (productId) => {\r\n    try {\r\n      await axios.delete(`${API_BASE_URL}/api/wishlist/${productId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      message.success(\"Removed from wishlist\");\r\n      setWishlist((prev) =>\r\n        prev.filter((item) => item.productId._id !== productId)\r\n      );\r\n    } catch (err) {\r\n      message.error(\"Failed to remove item\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      message.error(\"Please login to view your wishlist.\");\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n    fetchWishlist();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <Title level={3} style={{ marginBottom: 24 }}>\r\n        My Wishlist\r\n      </Title>\r\n\r\n      {wishlist.length === 0 ? (\r\n        <Empty description=\"Your wishlist is empty\" style={{ marginTop: 50 }} />\r\n      ) : (\r\n        <Row gutter={[24, 24]}>\r\n          {wishlist.map(({ productId }) => (\r\n            <Col xs={24} sm={12} md={8} lg={6} key={productId._id}>\r\n              <Card\r\n                hoverable\r\n                style={{\r\n                  height: 400,\r\n                  borderRadius: 8,\r\n                  boxShadow: \"0 2px 8px rgba(0,0,0,0.06)\",\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  justifyContent: \"space-between\",\r\n                }}\r\n                cover={\r\n                  <div\r\n                    style={{\r\n                      height: 200,\r\n                      backgroundColor: \"#f9f9f9\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      borderTopLeftRadius: 8,\r\n                      borderTopRightRadius: 8,\r\n                    }}\r\n                  >\r\n                    <img\r\n                      alt={productId.productName}\r\n                      src={\r\n                        productId.primaryImage\r\n                          ? `${API_BASE_URL}/uploads/${productId.primaryImage}`\r\n                          : \"/assets/default-product.png\"\r\n                      }\r\n                      style={{\r\n                        maxHeight: \"100%\",\r\n                        maxWidth: \"100%\",\r\n                        objectFit: \"contain\",\r\n                        padding: 10,\r\n                      }}\r\n                    />\r\n                  </div>\r\n                }\r\n              >\r\n                <div style={{ flexGrow: 1 }}>\r\n                  <Title level={5} ellipsis={{ rows: 1 }}>\r\n                    {productId.productName}\r\n                  </Title>\r\n                  <Text strong style={{ fontSize: \"16px\" }}>\r\n                    â‚¹{productId.price}\r\n                  </Text>\r\n                </div>\r\n\r\n                <Divider style={{ margin: \"12px 0\" }} />\r\n\r\n                <Row gutter={10}>\r\n                  <Col span={12}>\r\n                    <Button\r\n                      danger\r\n                      block\r\n                      size=\"small\"\r\n                      onClick={() => handleRemove(productId._id)}\r\n                    >\r\n                      Remove\r\n                    </Button>\r\n                  </Col>\r\n                  <Col span={12}>\r\n                    <Button\r\n                      type=\"primary\"\r\n                      block\r\n                      size=\"small\"\r\n                      onClick={() => navigate(`/product/${productId._id}`)}\r\n                    >\r\n                      View\r\n                    </Button>\r\n                  </Col>\r\n                  <Col span={24} style={{ marginTop: 8 }}>\r\n  <Button\r\n    block\r\n    size=\"small\"\r\n    type=\"dashed\"\r\n    onClick={async () => {\r\n      try {\r\n        // Add to cart logic (you can import Redux dispatch instead)\r\n        const cartItem = {\r\n          ...productId,\r\n          qty: 1,\r\n          productId: productId._id,\r\n        };\r\n\r\n        const existingCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n        localStorage.setItem(\"cart\", JSON.stringify([...existingCart, cartItem]));\r\n\r\n        await axios.delete(`${API_BASE_URL}/api/wishlist/${productId._id}`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        message.success(\"Moved to cart\");\r\n        setWishlist((prev) => prev.filter((item) => item.productId._id !== productId._id));\r\n      } catch (err) {\r\n        message.error(\"Failed to move item\");\r\n      }\r\n    }}\r\n  >\r\n    Move to Cart\r\n  </Button>\r\n</Col>\r\n                </Row>\r\n              </Card>\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wishlist;"],"names":["Title","Text","Typography","API_BASE_URL","process","REACT_APP_API_URL","Wishlist","wishlist","setWishlist","useState","token","localStorage","getItem","navigate","useNavigate","useEffect","message","error","async","data","axios","get","headers","Authorization","err","fetchWishlist","_jsxs","style","padding","children","_jsx","level","marginBottom","length","Empty","description","marginTop","Row","gutter","map","_ref","productId","Col","xs","sm","md","lg","Card","hoverable","height","borderRadius","boxShadow","display","flexDirection","justifyContent","cover","backgroundColor","alignItems","borderTopLeftRadius","borderTopRightRadius","alt","productName","src","primaryImage","maxHeight","maxWidth","objectFit","flexGrow","ellipsis","rows","strong","fontSize","price","Divider","margin","span","Button","danger","block","size","onClick","delete","success","prev","filter","item","_id","handleRemove","type","cartItem","qty","existingCart","JSON","parse","setItem","stringify"],"sourceRoot":""}