"use strict";(self.webpackChunkfinalfrontend=self.webpackChunkfinalfrontend||[]).push([[882],{6719:(e,o,r)=>{r.d(o,{A:()=>E});var t=r(7565),n=r(3163),l=r.n(n),a=r(4144),s=r(666),i=r(5681),c=r(311),d=r(1781),u=r(3718),g=r(957),p=r(9487),h=r(7988),f=r(2572),b=r(9389);const m=e=>{const{lineWidth:o,fontSizeIcon:r,calc:t}=e,n=e.fontSizeSM;return(0,f.oX)(e,{tagFontSize:n,tagLineHeight:(0,g.zA)(t(e.lineHeightSM).mul(n).equal()),tagIconSize:t(r).sub(t(o).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},C=e=>({defaultBg:new p.Y(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),v=(0,b.OF)("Tag",(e=>(e=>{const{paddingXXS:o,lineWidth:r,tagPaddingHorizontal:t,componentCls:n,calc:l}=e,a=l(t).sub(r).equal(),s=l(o).sub(r).equal();return{[n]:Object.assign(Object.assign({},(0,h.dF)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:a,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,g.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${n}-close-icon`]:{marginInlineStart:s,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:a}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(m(e))),C);var y=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]])}return r};const x=t.forwardRef(((e,o)=>{const{prefixCls:r,style:n,className:a,checked:s,onChange:i,onClick:c}=e,d=y(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:g,tag:p}=t.useContext(u.QO),h=g("tag",r),[f,b,m]=v(h),C=l()(h,`${h}-checkable`,{[`${h}-checkable-checked`]:s},null===p||void 0===p?void 0:p.className,a,b,m);return f(t.createElement("span",Object.assign({},d,{ref:o,style:Object.assign(Object.assign({},n),null===p||void 0===p?void 0:p.style),className:C,onClick:e=>{null===i||void 0===i||i(!s),null===c||void 0===c||c(e)}})))})),S=x;var k=r(5645);const O=(0,b.bf)(["Tag","preset"],(e=>(e=>(0,k.A)(e,((o,r)=>{let{textColor:t,lightBorderColor:n,lightColor:l,darkColor:a}=r;return{[`${e.componentCls}${e.componentCls}-${o}`]:{color:t,background:l,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:a,borderColor:a},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}})))(m(e))),C);const $=(e,o,r)=>{const t="string"!==typeof(n=r)?n:n.charAt(0).toUpperCase()+n.slice(1);var n;return{[`${e.componentCls}${e.componentCls}-${o}`]:{color:e[`color${r}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},A=(0,b.bf)(["Tag","status"],(e=>{const o=m(e);return[$(o,"success","Success"),$(o,"processing","Info"),$(o,"error","Error"),$(o,"warning","Warning")]}),C);var j=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]])}return r};const P=t.forwardRef(((e,o)=>{const{prefixCls:r,className:n,rootClassName:g,style:p,children:h,icon:f,color:b,onClose:m,bordered:C=!0,visible:y}=e,x=j(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:S,direction:k,tag:$}=t.useContext(u.QO),[P,I]=t.useState(!0),E=(0,a.A)(x,["closeIcon","closable"]);t.useEffect((()=>{void 0!==y&&I(y)}),[y]);const w=(0,s.nP)(b),T=(0,s.ZZ)(b),z=w||T,B=Object.assign(Object.assign({backgroundColor:b&&!z?b:void 0},null===$||void 0===$?void 0:$.style),p),N=S("tag",r),[_,H,R]=v(N),F=l()(N,null===$||void 0===$?void 0:$.className,{[`${N}-${b}`]:z,[`${N}-has-color`]:b&&!z,[`${N}-hidden`]:!P,[`${N}-rtl`]:"rtl"===k,[`${N}-borderless`]:!C},n,g,H,R),D=e=>{e.stopPropagation(),null===m||void 0===m||m(e),e.defaultPrevented||I(!1)},[,L]=(0,i.A)((0,i.d)(e),(0,i.d)($),{closable:!1,closeIconRender:e=>{const o=t.createElement("span",{className:`${N}-close-icon`,onClick:D},e);return(0,c.fx)(e,o,(e=>({onClick:o=>{var r;null===(r=null===e||void 0===e?void 0:e.onClick)||void 0===r||r.call(e,o),D(o)},className:l()(null===e||void 0===e?void 0:e.className,`${N}-close-icon`)})))}}),W="function"===typeof x.onClick||h&&"a"===h.type,U=f||null,M=U?t.createElement(t.Fragment,null,U,h&&t.createElement("span",null,h)):h,q=t.createElement("span",Object.assign({},E,{ref:o,className:F,style:B}),M,L,w&&t.createElement(O,{key:"preset",prefixCls:N}),T&&t.createElement(A,{key:"status",prefixCls:N}));return _(W?t.createElement(d.A,{component:"Tag"},q):q)})),I=P;I.CheckableTag=S;const E=I},7882:(e,o,r)=>{r.r(o),r.d(o,{default:()=>h});var t=r(7565),n=r(2749),l=r(580),a=r(2457),s=r(5835),i=r(6719),c=r(4387),d=r(5828),u=r(7929);const{Content:g}=n.A,p={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5001",h=()=>{const[e,o]=(0,t.useState)([]),r=localStorage.getItem("adminToken");(0,t.useEffect)((()=>{r?h():l.Ay.error("Unauthorized. Please log in as admin.")}),[]);const h=async()=>{try{const{data:e}=await d.A.get(`${p}/api/orders/admin`,{headers:{Authorization:`Bearer ${r}`}});o(e)}catch(n){var e,t;console.error("Error fetching orders:",n),l.Ay.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch orders")}};return(0,u.jsxs)(n.A,{style:{minHeight:"100vh",backgroundColor:"#f5f6f8"},children:[(0,u.jsx)(c.A,{}),(0,u.jsx)(n.A,{className:"site-layout",style:{paddingLeft:200},children:(0,u.jsxs)(g,{style:{margin:"24px",padding:"24px",background:"#fff",borderRadius:10},children:[(0,u.jsx)("h2",{style:{fontSize:"1.6rem",fontWeight:600,marginBottom:24},children:"Admin Orders"}),(0,u.jsx)(a.A,{dataSource:e,rowKey:"_id",pagination:{pageSize:8},bordered:!0,columns:[{title:"Order ID",dataIndex:"_id",render:e=>(0,u.jsx)("strong",{children:e.slice(-6).toUpperCase()})},{title:"Customer",dataIndex:"userId",render:e=>(null===e||void 0===e?void 0:e.name)||"Unknown"},{title:"Total",dataIndex:"totalAmount",render:e=>(0,u.jsxs)("strong",{children:["\u20b9",e]})},{title:"Items",dataIndex:"items",render:e=>(0,u.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:e.map(((e,o)=>(0,u.jsx)("div",{style:{width:"50px",height:"50px",borderRadius:6,overflow:"hidden",background:"#f9f9f9",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #eee"},children:(0,u.jsx)("img",{src:`${p}/uploads/${e.image}`,alt:e.productName,style:{width:"100%",height:"100%",objectFit:"contain"}})},o)))})},{title:"Status",dataIndex:"overallStatus",render:(e,o)=>(0,u.jsxs)(s.A,{value:e,onChange:e=>(async(e,o)=>{try{await d.A.put(`${p}/api/orders/${e}/status`,{status:o},{headers:{Authorization:`Bearer ${r}`}}),l.Ay.success("Order status updated successfully!"),h()}catch(a){var t,n;console.error("Error updating status:",a),l.Ay.error((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to update status")}})(o._id,e),style:{width:130},children:[(0,u.jsx)(s.A.Option,{value:"Pending",children:"Pending"}),(0,u.jsx)(s.A.Option,{value:"Shipped",children:"Shipped"}),(0,u.jsx)(s.A.Option,{value:"Delivered",children:"Delivered"}),(0,u.jsx)(s.A.Option,{value:"Cancelled",children:"Cancelled"})]})},{title:"Payment",dataIndex:"paymentStatus",render:e=>"Completed"===e?(0,u.jsx)(i.A,{color:"green",children:"Paid"}):(0,u.jsx)(i.A,{color:"red",children:"Pending"})}]})]})})]})}}}]);
//# sourceMappingURL=882.5362f7bb.chunk.js.map